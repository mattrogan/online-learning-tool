{% extends "base.html" %}
{% block title %}Discussion Forum{% endblock %}
{% block content %}

<style>

    table {
        width: 50%;
    }

    td {
        vertical-align: top;
        text-align: left;
    }

    th {
        vertical-align: top;
        text-align: center;
    }

    * {
    box-sizing: border-box;
    }

    a {
        color: #FFFFFF;
        font-weight: bolder;
        text-decoration: none;
    }

    .subforum-header {
        font-size: 16px;
        font-weight: bolder;
    }


    .container {
        margin: 20px;
        padding: 20px;
    }

    .subforum-description *{
        margin-block: 0;

    }

    .subforum-row {
        /* To display four cols in one line */
        display: grid;
        grid-template-columns: 10% 60% 20% 20%;
        
    }

    .subforum-column {
        padding: 10px;
        margin: 4px;
        border-radius: 5px;
        background-color: #191919;
    }

    .center {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .subforum-icon i {
        font-size: 45px;
    }

    .button-container {
        text-align: right;
        border: 1px;
    }

    .button {
        background-color: #000000;
        border: none;
        color: white;
        padding: 10px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        font-family: "Lato", sans-serif;
        margin: 2px 2px;
        cursor: pointer;
    }

</style>

<!--Top block-->
<div class="w3-container w3-content w3-center w3-padding-64" style="max-width: 800px;" id="top">

    <h2 class="w3-wide">Discussion Forum</h2>
    <p class="w3-justify w3-center">Ask your questions below!</p>

    <div class="button-container">
        <button id="add-post" type="button" class="button"><a href="new-post">Create new post</a></button>
    </div>

</div>

<!--Middle block-->
<div class="w3-black" id="middle">
    <div class="w3-container w3-content w3-padding-64" style="max-width:800px">
    
        <div class="container" id="forum"> <!--Container of homepage-->
            <div class="subforum">
                
                <!--For loop to generate posts-->
                {% for post in posts %}
    
                    <!--ROW OF THE FORUM-->
                    <div class="subforum-row"> <!--Row with 4 columns-->
                        
        
                        <!--Col 1: Symbol/'avatar' for the post-->
                        <div class="subforum-icon subforum-column center">
                            <i class="fa fa-question-circle" style="font-size:36px"></i>
                        </div>
        
                        <!--Col 2: Overview of the forum-->
                        <div class="subforum-description subforum-column">
                            <h1 class="subforum-header"><a href="post{{post["PostID"]}}">{{post["QuestionTitle"]}}</a></h1>
                            <p>{{post["QuestionDescription"]}}</p>
                        </div>
        
                        <!--Col 3: Number of posts and replies for each forum-->
                        <div class="subforum-stats subforum-column center">
                            <span>24 Posts | 15 Topics</span>
                        </div>
        
                        <!--Col 4: Info about last post & user-->
                        <div class="subforum-info subforum-column">
                            <p>by <b>{{post["Author"]}}</b> on <b><small>{{post["DatePosted"]}}</small><b></p>
                        </div>
        
                    </div>
                {% endfor %}
                
                
            </div>
        </div>


    </div>
</div>

<!--Send a question block-->
<div class="w3-container w3-content w3-center w3-padding-64" style="max-width: 800px;" id="top">

</div>
{% endblock %}